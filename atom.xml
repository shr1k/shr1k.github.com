<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[TechSwamp]]></title>
  <link href="http://shr1k.github.com/atom.xml" rel="self"/>
  <link href="http://shr1k.github.com/"/>
  <updated>2013-02-21T20:46:29+00:00</updated>
  <id>http://shr1k.github.com/</id>
  <author>
    <name><![CDATA[Shrikant]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Ubuntu Touch Developer Preview: A First Look for the Nexus 7]]></title>
    <link href="http://shr1k.github.com/post/2013/02/21/ubuntu-touch-developer-preview-a-first-look-for-the-nexus-7/"/>
    <updated>2013-02-21T20:32:00+00:00</updated>
    <id>http://shr1k.github.com/post/2013/02/21/ubuntu-touch-developer-preview-a-first-look-for-the-nexus-7</id>
    <content type="html"><![CDATA[<p>The <a href="https://wiki.ubuntu.com/Touch/ReleaseNotes">Ubuntu Touch Developer Preview</a> landed today and I was really excited to see it available for my Nexus 7. Following the <a href="https://wiki.ubuntu.com/Touch/Install">really simply install instructions</a>, I was ready to go in less than 30 minutes (and most of that time was just waiting for the OS images to download).</p>

<!-- more -->


<h2>Lock-screen and home-screens</h2>

<p>The first signs of Ubuntu is the heavily Unity flavoured lock-screen that greets you on booting up. I was a little puzzled by the &#8220;14 tweets received&#8221; message, but it turns out that it is just a placeholder image.</p>

<p><img class="center" src="http://i.imgur.com/lLoPPkg.png"></p>

<h2></h2>

<p>Swiping left or right from the screen edge in the lock-screen takes you to the central home-screen (of five in total). Scrolling and swiping are nice and smooth (with a noticeable stutter when running quite a few apps)</p>

<p><img class="center" src="http://i.imgur.com/vcccQr0.png"></p>

<h2></h2>

<p>Swiping left or right in middle of the home-screen navigates between the other home-screens (taking care to stay away from the edges of the screen, as it does something else entirely)</p>

<p><img class="center" src="http://i.imgur.com/Ki8BVvA.png"></p>

<p>I really hope that the list of &#8220;People&#8221; that Canonical have set up (all of whom appear to be Canonical employees) have only fake contact details and messaging histories pre-populated in for them, because everyone&#8217;s phone number is visible, and there&#8217;s a lot of other potentially personally-identifying information in there.</p>

<h2></h2>

<p>Swiping left from a home-screen brings up the much maligned Unity launcher.</p>

<p><img class="center" src="http://i.imgur.com/SS2Hx3Q.png"></p>

<h2>Notification area</h2>

<p>There is a notification area on the top right with indicators for messaging, volume control, Wifi, battery status and the time. The notification swipe-down bar is not a unified one a la Android or Symbian<sup>3,</sup> but you have to target each tiny icon to bring down its own configuration options. The screenshot below shows the swipe-down options for the time indicator.</p>

<p><img class="center" src="http://i.imgur.com/FA9wY62.png"></p>

<h2>Apps</h2>

<p>The &#8220;Apps&#8221; home-screen shows the list of &#8220;Running&#8221;, &#8220;Frequently Used&#8221;, &#8220;Installed&#8221;, and &#8220;Available for Download&#8221; apps in their respective groups.</p>

<p><img class="center" src="http://i.imgur.com/sCcBKOf.png"></p>

<h2></h2>

<p>That this is a developer preview is heavily reinforced by the fact that most of the apps are in fact just placeholders and do (nearly) nothing. The calculator and weather apps, for instance, don&#8217;t do anything at all and are just static images.</p>

<p><img class="left" src="http://i.imgur.com/svmgHqu.png">
<img class="right" src="http://i.imgur.com/hVJLbTb.png"></p>

<h2></h2>

<p>There are a few other apps (Amazon, eBay, Gmail) that are essentially the iPhone-optimised versions of the websites wrapped in a browser-frame. The browser appears to be a WebKit container that spits out a Safari 5.1 / iOS user-agent.</p>

<p><img class="center" src="http://i.imgur.com/n4LHcVH.png"></p>

<p>But it is somewhat functional, and you can navigate to websites by swiping from the bottom screen edge.</p>

<p><img class="center" src="http://i.imgur.com/fGtF8TF.png"></p>

<p>Some of the (barely) functional native apps are the Notepad and the Photo Gallery. The Notepad loses any created notes on rebooting, but the Photo Gallery is surprisingly functional, with some basic image editing functions like cropping, resizing and enhancing already in place. All these features work quite alright as well.</p>

<p><img class="left" src="http://i.imgur.com/03Y5jjF.png"></p>

<p><img class="right" src="http://i.imgur.com/k88jZeR.png"></p>

<h2></h2>

<p>Swiping up from the bottom screen-edge of every app brings up a set of context-relevant options. Interestingly, a &#8220;longer&#8221; swipe from the same area brings up a little lens icon, which if targeted, presents a more generic set of actions.</p>

<p><img class="center" src="http://i.imgur.com/QiRIYYj.png"></p>

<p>There appears to be a bug in its implementation as it stands right now &#8211; I brought this up when in the Calculator app, but it is showing some actions that only apply to photos, like &#8220;Share&#8221;, &#8220;Delete&#8221;, and &#8220;Add&#8221;. However, the &#8220;X&#8221; icon in the bottom row is the way to exit a running app.</p>

<h2>Keyboard</h2>

<p>Oddly enough, the buggiest part of the entire release currently appears to be the keyboard.</p>

<p><img class="center" src="http://i.imgur.com/0TRXCFI.png"></p>

<p>It is clearly not built for tablets yet, is difficult to use, and generally &#8216;misbehaves&#8217; at times. It would keep changing focus to the wrong text-box in the browser, and when I was playing around with the People app, the keyboard decided it never wanted to leave the screen. This was only resolved by a reboot.</p>

<h2>Conclusions</h2>

<p>I am currently only testing out the release for the Nexus 7, so I&#8217;m not in a position to test the camera or the phone-related features like calling or texting. The Nexus 4 is my primary phone, and not really a candidate for experimentation at this stage.</p>

<p>What&#8217;s next? I guess Canonical will put their nose to the grindstone on this and start churning out functional <a href="https://wiki.ubuntu.com/Touch/CoreApps">core apps</a>. Since this is the first Developer Preview I&#8217;m ever playing around with, I couldn&#8217;t really say if it is a GREAT start, but it certainly sets the stage quite nicely in terms of what to expect. Given that the entire effort essentially appears to amount to <a href="https://wiki.ubuntu.com/Touch/Contribute#Source_code">integrating the existing Ubuntu codebase with CyanogenMod</a>, I&#8217;m quite positive that the Canonical team will put out an excellent product.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Suppressing warnings when starting NFS-related services]]></title>
    <link href="http://shr1k.github.com/post/2013/02/19/suppressing-warnings-when-starting-nfs-related-services/"/>
    <updated>2013-02-19T20:31:00+00:00</updated>
    <id>http://shr1k.github.com/post/2013/02/19/suppressing-warnings-when-starting-nfs-related-services</id>
    <content type="html"><![CDATA[<p>After restarting the Raspberry Pi and the attached paraphernalia every once in a while, the USB HDD that forms the backbone of my NAS needs to be re-mounted each time. The sensible thing to do here would obviously be to manage the re-mounting in a bootup script, but until I get around to doing that I mount the HDD manually.</p>

<p>Since this HDD is used in an NFS share over the network, I also need to export the mount points again and restart the <code>rpcbind</code> and <code>nfs-kernel-server</code> services. I noticed that every time I did this, the latter service would start up alright, but throw out some odd-looking warnings.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='console'><span class='line'><span class="go">pi@raspberrypi ~ $ sudo service nfs-kernel-server restart</span>
</span><span class='line'><span class="go">[ ok ] Stopping NFS kernel daemon: mountd nfsd.</span>
</span><span class='line'><span class="go">[ ok ] Unexporting directories for NFS kernel daemon....</span>
</span><span class='line'><span class="go">[ ok ] Exporting directories for NFS kernel daemon....</span>
</span><span class='line'><span class="go">[....] Starting NFS kernel daemon: nfsdrpc.nfsd: address family inet6 not supported by protocol UDP</span>
</span><span class='line'><span class="go"> mountdrpc.mountd: svc_tli_create: could not bind to requested address</span>
</span><span class='line'><span class="go">rpc.mountd: svc_tli_create: could not bind to requested address</span>
</span><span class='line'><span class="go">rpc.mountd: svc_tli_create: could not bind to requested address</span>
</span><span class='line'><span class="go">. ok </span>
</span><span class='line'><span class="go">pi@raspberrypi ~ $ </span>
</span></code></pre></td></tr></table></div></figure>


<p>The solution to this is quite simple - turns out all you need to do is to edit the file <code>/etc/netconfig</code>, which should look something like this:</p>

<p><img src="http://i.imgur.com/Xmx1Ogv.png"></p>

<p>Just comment out the lines that begin with <code>udp6</code> and <code>tcp</code> by prefixing each line with a &#8216;#&#8217;, and save the file. (Note that you need to be root or use <code>sudo</code> to do this.)</p>

<p>Now when you restart <code>nfs-kernel-server</code>, the IPv6-related warnings will be gone!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Setting up a Raspberry Pi-powered headless media server and NAS]]></title>
    <link href="http://shr1k.github.com/post/2013/02/16/setting-up-a-raspberry-pi-powered-headless-media-server-and-nas/"/>
    <updated>2013-02-16T09:53:00+00:00</updated>
    <id>http://shr1k.github.com/post/2013/02/16/setting-up-a-raspberry-pi-powered-headless-media-server-and-nas</id>
    <content type="html"><![CDATA[<p>One of the best gifts I&#8217;ve ever received to date is the <a href="http://i.imgur.com/1PSNV.jpg">End Of The World Survival Kit</a> from my 2012 Reddit Secret Santa. (As an aside, I was so moved by this, that I felt ashamed of taking the easy route of giving my giftee just a T-shirt, and made amends by signing up for re-matching and sending another gift to someone else.)</p>

<p>The best part of the kit was the Raspberry Pi Model B. Recently unemployed and looking for things to do, it was the perfect way to get started on some reasonably techie hobbyism (that&#8217;s a word now). The only hitch was that I had the board, but no peripherals at all.</p>

<p>Or so I thought.</p>

<!-- more -->


<p>The only items really required to get the RPi up and running are:</p>

<ul>
<li>An SD card reader (which my laptop already had)</li>
<li>A power supply (for which a BlackBerry charger, or any other microUSB charger, will do just fine)</li>
<li>An SD card (or microSD card + SD adapter) of 4+ GB</li>
<li>An Ethernet cable (hello, dusty old Sky router box! What&#8217;s this left unused inside you for the last 2.5 years?)</li>
</ul>


<p>Beyond these, the other required ingredients of this tasty dish are (and some of these may seem obvious):</p>

<ul>
<li>A wireless router</li>
<li>An externally powered USB HDD of a reasonable capacity (500 GB, in my case)</li>
<li>A reasonable number of wireless &#8216;client&#8217; devices (laptops, tablets, smartphones) around the house, just to make the effort worthwhile</li>
</ul>


<p>After this epiphany, getting the whole setup in place was a mere matter of ploughing through the numerous guides published on the interwebs and the odd all-nighter spent figuring out why things didn&#8217;t work. So here&#8217;s a quick run-down of the steps involved in &#8211; <em>drum-roll</em> &#8211; setting up a Raspberry Pi-powered headless media server and NAS!</p>

<ol>
<li><a href="#setup">Set up the Raspberry Pi</a></li>
<li><a href="#mount">Mount external storage</a></li>
<li><a href="#server">Install DLNA server</a></li>
<li><a href="#client">Install DLNA client</a></li>
<li><a href="#nfs">Setup NFS</a></li>
</ol>


<h2>1. <a id="setup"></a>Set up the Raspberry Pi</h2>

<p>Simply <a href="http://www.raspberrypi.org/downloads">download</a> the image and <a href="http://elinux.org/RPi_Easy_SD_Card_Setup">&#8216;burn&#8217; it onto the SD card</a>. I picked Raspbian as I use Ubuntu and am familiar with the Debian way of doing things. I&#8217;m also comfortable with <code>dd</code> now (having been burnt a couple of times earlier &#8211; alcohol and <code>/dev/urandom</code> do NOT mix well), and opted for the command-line approach.</p>

<p><img src="http://i.imgur.com/anEtp3W.png" title="Preparing the SD card" ></p>

<p>After you plug the prepared SD card into the RPi and power it on, a quick:</p>

<p><code>ssh -Y pi@&lt;IP address&gt;</code> <em>(using the password &#8220;raspberry&#8221; without the quotes &#8211; the &#8220;-Y&#8221; means you can open graphical programs off the RPi on your own screen, but running in the RPi&#8217;s context)</em></p>

<p>and you&#8217;re logged in. You can find out the IP address of the RPi by checking your router admin page. I&#8217;m not sure if there&#8217;s another way to do this, but this worked for me.</p>

<p>Once logged in, the first thing to do would be to run the <strong>raspi-config</strong> tool (<code>sudo raspi-config</code>), &#8221;<em>Expand Root Partition to Fill SD Card</em>&#8221; and reboot (<code>sudo shutdown -r now</code> or <code>sudo reboot</code>). This ensures you&#8217;re using the full capacity of the SD card.</p>

<p><img src="http://i.imgur.com/4p63pkN.png" title="Expand Root Partition to Fill SD Card" ></p>

<h2>2. <a id="mount"></a>Mount external storage</h2>

<p>After the OS has been set up, updated and is tootling along happily, plug in the USB HDD. This should be externally powered, because the RPi doesn&#8217;t appear to be able to power USB devices beyond a keyboard or a mouse.</p>

<p>Keep in mind that the standard Raspbian build does not ship with modern NTFS support, so if you have any partitions formatted as NTFS, you will need to <code>sudo apt-get install ntfs-3g</code> to be able to use them properly.</p>

<p>Find the names of the partitions you want to mount (<code>sudo fdisk -l</code>), and mount them.</p>

<p><img src="http://i.imgur.com/xzlqnFx.png" title="The required partition names are listed under &#34;Device Boot&#34;" alt="The required partition names are listed under &#34;Device Boot&#34;"></p>

<p>I don&#8217;t mind relying on the smarts of Debian to manage this, so a <code>sudo mount -t auto /dev/sda1 /media/audvid</code> should work just fine. Just take care that <code>/dev/sda1</code> and <code>/media/audvid</code> actually exist first.</p>

<h2>3. <a id="server"></a>Install DLNA server</h2>

<p>The nest step is to install a DLNA/UPnP server. The RPi has MiniDLNA readily available in the repositories, so a <code>sudo apt-get install minidlna</code> will suffice.</p>

<p>After it&#8217;s been downloaded and installed, fire up <code>/etc/minidlna.conf</code>, and edit the line that starts with <code>#media_dir=</code> to point at your freshly mounted HDD locations. You can use multiple lines for different paths and content types.</p>

<p><img src="http://i.imgur.com/MPV0sxk.png" title="Editing minidlna.conf" ></p>

<p>The other values can be left untouched (unless you want to fiddle about, of course).</p>

<p>Follow this up with a <code>sudo service minidlna force-reload</code> to start indexing the new locations. You can follow the progress of this indexing either by tailing the log file with a <code>tail -f /var/log/minidlna.log</code> or pointing your browser at <code>http://&lt;IP address of RPi&gt;:&lt;Port number from minidlna.conf&gt;</code>.</p>

<p><img src="http://i.imgur.com/6ZJddG9.png" title="MiniDLNA indexing progress" ></p>

<p>This could take a while for large media collections, but one way to guess that indexing has completed is if the log file shows a &#8220;Parsing playlists&#8230;&#8221; message.</p>

<p>Note here that any changes made to these &#8216;watched&#8217; locations will necessitate a <code>sudo service minidlna force-reload</code>, if the notification options in <code>/etc/minidlna.conf</code> haven&#8217;t been configured.</p>

<h2>4. <a id="client"></a>Install DLNA client</h2>

<p>So you have a DLNA server, but how do you use it? <a href="http://en.wikipedia.org/wiki/List_of_UPnP_AV_media_servers_and_clients">With a DLNA client, of course</a>! After twiddling with a few options, I settled on the combination of <a href="https://play.google.com/store/apps/details?id=com.bubblesoft.android.bubbleupnp">BubbleUPnP</a> and VLC, which appears to offer the best balance of free and feature-filled amongst the Android clients. All the rest seemed deficient in one way or another.</p>

<p><img class="left" src="http://i.imgur.com/BL0hrya.png" width="294" height="490" title="BubbleUPnP: Select media source" >
<img class="right" src="http://i.imgur.com/xHuvrQ2.png" width="294" height="490" title="BubbleUPnP: Playing audio" >
<img src="http://i.imgur.com/v1iTxdL.png" title="BubbleUPnP: Delegating video to VLC" ></p>

<h2>5. <a id="nfs"></a>Setup NFS</h2>

<p>Now what if you need to modify or add to your media library? Futzing around with media metadata and hauling giant files back and forth via DLNA is not possible, and would be too cumbersome over a phone or tablet&#8217;s interface anyway. Additionally, there doesn&#8217;t seem to be any sane method of DLNA playback through the Ubuntu desktop.</p>

<p>The best thing to do in this situation remained to mount the media partitions on the USB HDD as network shares. After some consideration of the Samba and NFS approaches, <a href="https://help.ubuntu.com/8.04/serverguide/network-file-system.html">I decided to go for the latter</a>.</p>

<p>Install the NFS server-side components on the RPi using <code>sudo apt-get install nfs-kernel-server</code>, which should also install a package called <code>rpcbind</code>. After this, add the HDD&#8217;s mounted partitions into the <code>/etc/exports</code> file, save it, and run <code>exportfs -av</code>. Follow this up by restarting the <code>nfs-kernel-server</code> and <code>rpcbind</code> services.</p>

<p>On the client side, do a <code>sudo apt-get install nfs-common</code>, and finally, mount the &#8216;exported&#8217; paths by saying <code>sudo mount &lt;IP address&gt;:/media/audvid /home/shrik/Music</code> and the like. If all succeeds, when you run the <code>mount</code> command after this, you should the newly mounted paths at the bottom of the output.</p>

<p><img src="http://i.imgur.com/saHUKcn.png" title="NFS shares mounted successfully" ></p>

<p>At this point, you should be able to make changes in these directories from the client machine, and have these reflected in the RPi.</p>

<p>And there you have it &#8211; a Raspberry Pi running without any I/O peripherals and powering a networked home media centre! I&#8217;m not entirely certain how robust this setup will be, but it&#8217;s been running on a couple of days up-time without any adverse effects so far.</p>
]]></content>
  </entry>
  
</feed>
